<!DOCTYPE html>

<html>	
	<head>
		<title>To do List</title>
	</head>

	<body>
		<h1> Buttons are below: </h1>
		

		<div> 
			<button onclick="handlers.displayTodos()"> Display Todo List
			</button>
		</div>
		<div>
		<button onclick="handlers.toggleAll()"> Toggle All Todos</button>
		</div>
		<div>
			<button onclick="handlers.addToList()"> Add To List </button>
			<input id="addTextInput" type="text"> 
			
		</div>
		<div>
			<button onclick="handlers.changeList()"> Change List, Provide Index and New Text </button>
			<input id="changeIndexInput" type="number"> 
			<input id="changeTextInput" type="text">
			
		</div>

		<div>
			<button onclick="handlers.deleteList()"> Delete List, Provide Index and Number of Elements </button>
			<input id="deleteIndexInput" type="number"> 
			<input id="deleteQuantityInput" type="number">
			
		</div>
		<div>
			<button onclick="handlers.toggleCompleted()"> Toggle Completed, Enter Index </button>
			<input id="toggleIndexInput" type="number"> 
			
			
		</div>

		<script>
			var todoList = {
	todos: [],
	
	displayList: function(){
		if (this.todos.length == 0){
			console.log("The todo List is empty.")
		} else {
			for (i = 0; i < this.todos.length; i++){
				if (this.todos[i].completed == false){
					console.log("( ) ", this.todos[i].todoText)
				} else {
					console.log("(x) ",this.todos[i].todoText)
				}
			}
			console.log("Number of items in todo List: ", this.todos.length)
		}
	},
	addToList: function(todoText){
		this.todos.push({
			todoText: todoText,
			completed: false
		});
	    this.displayList()
	},
	changeList: function(index, updatedText){
		this.todos[index].todoText = updatedText
		this.displayList()
	},
	deleteList: function(startIndex, howMany){
		console.log(this.todos.splice(startIndex, howMany))
		this.displayList()
	},
	toggleCompleted: function(index){
		var todo = this.todos[index];
		todo.completed = !todo.completed
		this.displayList()
	},
	toggleAll: function(){
		//if everything is true, make everything false; otherwise make everything true;
		// so the only case where we change everything to false is when all is true
		// we can keep a boolean to check if everything is true or not; set to true; 
		// changes to false as soon as smth is false;
		// then we put an if(true) loop thru and make all false; else all true
		check = true
		for(i = 0; i < this.todos.length; i++){
			if(this.todos[i].completed == false) check = false
		}
		if(check){
			for(i = 0; i < this.todos.length; i++){
				this.todos[i].completed = false
			}
		} else {
			for(i = 0; i < this.todos.length; i++){
				this.todos[i].completed = true
			}
		}
		this.displayList()
	}

};



var handlers = {
	displayTodos: function(){
		todoList.displayList();
	},
	toggleAll: function(){
		todoList.toggleAll();
	},
	addToList: function(){
		var addTextInput = document.getElementById("addTextInput")
		todoList.addToList(addTextInput.value);
		addTextInput.value = '';
	},
	changeList: function(){
		var changeIndexInput = document.getElementById("changeIndexInput")
		var changeTextInput = document.getElementById("changeTextInput")
		todoList.changeList(changeIndexInput.value, changeTextInput.value)
		changeTextInput.value = ''
		changeIndexInput.value = ''
	},
	deleteList: function(){
		var deleteIndexInput = document.getElementById("deleteIndexInput")
		var deleteQuantityInput = document.getElementById("deleteQuantityInput")
		todoList.deleteList(deleteIndexInput.value, deleteQuantityInput.value)
		deleteIndexInput = ''
		deleteQuantityInput = ''

	},
	toggleCompleted: function(){
		var toggleIndexInput = document.getElementById("toggleIndexInput")
		todoList.toggleCompleted(toggleIndexInput.value);
		toggleIndexInput.value = '';
	}
};

		</script>
	</body>
</html>